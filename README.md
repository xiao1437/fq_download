简介

这是一个用于批量高速下载 SRA 数据（格式为 FASTQ）的流程脚本。它利用 Aspera 的 ascp 命令行工具，相比 wget 或 curl，能提供更快的下载速度。

功能特点

该脚本可通过一个输入文件即可批量下载多个 SRR 样本并根据 SRR 编号的长度，自动生成正确的文件获取路径，还可选为每个样本创建独立的目录存放下载的文件。

环境配置

需安装并配置python3解释器

必须安装 Aspera 的 ascp 命令并保证可用。

请确保 ascp 已在您的系统 PATH 环境变量中。

SSH 密钥文件：需要 Aspera 的密钥文件 (asperaweb_id_dsa.openssh) 用于身份验证。该密钥文件通常随 Aspera Connect 一起安装，位置在 ~/.aspera/connect/etc/asperaweb_id_dsa.openssh。

使用方法

python3 SRR_fq_download.py -k <PATH_TO_KEY> -t <TYPE> -i <INPUT_FILE>

参数说明

-k 或 --key 输入Aspera SSH 密钥文件的路径。

-t 或 --type 若下载数据为单端测序请输入1，若为双端数据请输入2

-i 或 --input 输入批量下载数据汇总txt文件路径

输入文件格式为：

需要下载数据的SRR号

需要下载数据的SRR号

需要下载数据的SRR号

...

需要下载数据的SRR号


若是要给每个数据单独分装目录，则可：

需要下载数据的SRR号/目录名称

需要下载数据的SRR号/目录名称

需要下载数据的SRR号/目录名称

...

需要下载数据的SRR号/目录名称

PS：每个输入文件中需要下载的数据必须都为单端数据或都为双端数据，不可混合


注意事项

网络稳定性：虽然 ascp 通常很稳定，但如果网络中断，可能需要手动重新运行脚本。它不会自动检查文件是否已部分下载或完全存在。

磁盘空间：确保有足够的磁盘空间来存放下载的 FASTQ 文件，这些文件通常很大。

路径验证：运行脚本前，请仔细检查密钥文件路径和输入文件路径是否正确。

错误处理：脚本会跳过格式错误的 SRR 编号并继续执行，但其他错误（如 ascp 未找到、权限错误等）可能导致脚本终止。
